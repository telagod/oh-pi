# Colony UI 优化计划（Phase A.5）

> 背景：当前蚁群能力已可用，但可视化层的信息层级与可读性不足，影响“第一眼价值感知”。

## 1) 已落地的 Quick Wins

- 状态栏增加阶段标签（`SCOUTING/WORKING/...`）与进度百分比。
- 状态栏增加活跃蚂蚁数（`⚡N`）。
- `/colony-status` 文本增加进度条、阶段细节（Phase message）与最近事件（Last）。
- 详情面板 Header 增加：阶段标签 + 任务进度 + 百分比 + 活跃蚂蚁 + 进度条。
- 详情面板补充“Active Ant Streams”列表（角色图标 + antId + token 数 + 最新输出摘要）。
- 详情面板新增“Recent Signals”区域（最近 6 条信号日志）。
- 详情面板新增“Warnings”区域（失败任务快速聚焦）。
- `ant-colony-progress` 消息新增自定义渲染，减少纯文本噪音并统一阶段标签。

## 2) 下一步优化（按优先级）

### P1：信息架构
- [x] 统一“主信息四元组”：`阶段 / 进度 / 成本 / 时间`。
- [ ] 将错误与预算超限显示固定到顶部警示区（避免被任务列表淹没）。

### P2：交互体验
- [x] 增加详情面板分页（Tasks / Streams / Log）。
- [x] 支持按任务状态过滤（done/active/failed/all）。

### P3：视觉一致性
- [x] 统一信号文本与 UI 标签命名（如 `PLANNING_RECOVERY` / `BUDGET_EXCEEDED` 的展示文案）。
- [ ] 为深色/浅色主题检查对比度，避免 dim 文本过暗（本轮已先提升关键行对比度）。

## 3) 验收标准

- 新用户在 10 秒内能回答：
  1) 现在处于哪个阶段？
  2) 已完成多少任务？
  3) 是否有失败？
- `/colony-status` 不看日志也能判断是否卡住。
- 详情面板能看到“活跃蚂蚁正在输出什么”。

## 4) 非目标

- 本阶段不重构调度逻辑。
- 本阶段不引入新状态机。
- 本阶段不做跨进程可视化同步协议改造。
